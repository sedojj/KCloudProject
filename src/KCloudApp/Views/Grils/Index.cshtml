@model KCloudApp.Models.Grils.GrilsViewModel


<form asp-action="Filter" asp-controller="Grils" method="post">
    <ul class="filterlist">
        <li class="intro">Make a wish:</li>
        @for (int i = 0; i < Model.Filter.Checkboxes.Length; i++)
            {
            <li class="filtercheckbox">
                <span class="js-postback">
                    <input type="checkbox" asp-for="@Model.Filter.Checkboxes[i].IsChecked" />
                    <label asp-for="@Model.Filter.Checkboxes[i].IsChecked">@Model.Filter.Checkboxes[i].DisplayName</label>
                </span>
                <input type="hidden" asp-for="@Model.Filter.Checkboxes[i].Codename" />
                <input type="hidden" asp-for="@Model.Filter.Checkboxes[i].DisplayName" />
            </li>
        }
    </ul>
</form>


<section id="grils">
    @Html.Partial("GrilsList", Model.Grils)
</section>

@section Scripts{
    <script>
        $(".js-postback input:checkbox").formAutoPost({ targetContainerSelector: "#grils" });
    </script>
}
